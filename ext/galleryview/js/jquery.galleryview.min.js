"function"!=typeof Object.create&&(Object.create=function(t){function i(){}return i.prototype=t,new i}),function(t){var i=function(t){return this.src={panel:t.data("original")||t.attr("src"),frame:t.data("frame")||t.data("original")||t.attr("src")},this.scale={panel:null,frame:null},this.height=0,this.width=0,this.attrs={title:t.attr("title")||t.attr("alt"),description:t.data("description")},this.href=null,this.dom_obj=null,this},e={getInt:function(t){return t=parseInt(t,10),isNaN(t)?0:t},innerWidth:function(t){return this.getInt(t.css("width"))||0},outerWidth:function(t){return this.innerWidth(t)+this.extraWidth(t)},extraWidth:function(t){return this.getInt(t.css("paddingLeft"))+this.getInt(t.css("paddingRight"))+this.getInt(t.css("borderLeftWidth"))+this.getInt(t.css("borderRightWidth"))},innerHeight:function(t){return this.getInt(t.css("height"))||0},outerHeight:function(t){return this.innerHeight(t)+this.extraHeight(t)},extraHeight:function(t){return this.getInt(t.css("paddingTop"))+this.getInt(t.css("paddingBottom"))+this.getInt(t.css("borderTopWidth"))+this.getInt(t.css("borderBottomWidth"))}},s={elems:[".gv_galleryWrap",".gv_gallery",".gv_panelWrap",".gv_panel","img.gv_image",".gv_infobar",".gv_filmstripWrap",".gv_filmstrip",".gv_frame",".gv_thumbnail",".gv_caption","img.gv_thumb",".gv_navWrap",".gv_navNext",".gv_navPrev",".gv_navPlay",".gv_panelNavNext",".gv_panelNavPrev",".gv_overlay",".gv_showOverlay",".gv_imageStore"],createElem:function(i,e){e=document.createElement(e);var s=t(e);return s.attr(i)},getPos:function(t){var i=this,e=this.dom,t=t[0],s=t.id,a=0,r=0,n,o,h;if(!t)return{top:0,left:0};if(t.offsetParent)do a+=t.offsetLeft,r+=t.offsetTop;while(t=t.offsetParent);return s===i.id?{left:a,top:r}:(n=i.getPos(e.galleryWrap),o=n.left,h=n.top,{left:a-o,top:r-h})},mouseIsOverGallery:function(t,i){var s=this,a=this.dom,r=this.getPos(a.gv_galleryWrap),n=r.top,o=r.left;return t>o&&t<o+e.outerWidth(a.gv_galleryWrap)&&i>n&&i<n+e.outerHeight(a.gv_galleryWrap)},mouseIsOverPanel:function(t,i){var s=this,a=this.dom,r=this.getPos(a.gv_panelWrap),n=this.getPos(a.gv_galleryWrap),o=r.top+n.top,h=r.left+n.left;return t>h&&t<h+e.outerWidth(a.gv_panelWrap)&&i>o&&i<o+e.outerHeight(a.gv_panelWrap)},storeImages:function(){var e=this;this.sourceImgs=t("li>img",this.$el),this.numImages=this.sourceImgs.length,this.gvImages=[],this.sourceImgs.each(function(s,a){e.gvImages[s]=new i(t(a))})},setDimensions:function(i){i="undefined"!=typeof i?i:!0;var s=this,a=this.dom,r={prev:e.innerWidth(a.gv_navPrev),play:e.innerWidth(a.gv_navPlay),next:e.innerWidth(a.gv_navNext),filmstrip:this.opts.frame_width,fsMax:0,fsFull:0},n={prev:e.innerHeight(a.gv_navPrev),play:e.innerHeight(a.gv_navPlay),next:e.innerHeight(a.gv_navNext),filmstrip:this.opts.frame_height+(this.opts.show_captions?e.outerHeight(a.gv_caption):0),fsMax:0,fsFull:0},o=[];a.gv_navWrap.css("horizontal"===this.filmstripOrientation?{width:r.prev+r.play+r.next,height:Math.max(n.prev,n.play,n.next)}:"scroll"===this.opts.filmstrip_style&&this.opts.frame_width<r.prev+r.play+r.next?{width:Math.max(r.prev,r.play,r.next),height:n.prev+n.play+n.next}:{width:r.prev+r.play+r.next,height:Math.max(n.prev,n.play,n.next)}),a.gv_navWrap.css("vertical"===this.filmstripOrientation&&r.filmstrip<r.prev+r.play+r.next?{width:Math.max(r.prev,r.play,r.next),height:n.prev+n.play+n.next}:{width:r.prev+r.play+r.next,height:Math.max(n.prev,n.play,n.next)}),a.gv_panel.css({width:this.opts.panel_width,height:this.opts.panel_height}),a.gv_panelWrap.css({width:e.outerWidth(a.gv_panel),height:e.outerHeight(a.gv_panel)}),a.gv_overlay.css({width:this.opts.panel_width}),i?(t.each(this.gvImages,function(t,i){a.gv_panelWrap.append(a.gv_panel.clone(!0))}),a.gv_panels=a.gv_panelWrap.find(".gv_panel"),a.gv_panels.remove()):(this_opts=this.opts,t.each(a.gv_panels,function(i,e){t(e).css({width:this_opts.panel_width,height:this_opts.panel_height})})),a.gv_thumbnail.css({width:this.opts.frame_width,height:this.opts.frame_height}),a.gv_frame.css({width:e.outerWidth(a.gv_thumbnail),height:e.outerHeight(a.gv_thumbnail)+(this.opts.show_captions?e.outerHeight(a.gv_caption):0),marginRight:this.opts.frame_gap,marginBottom:this.opts.frame_gap}),i||(a.gv_filmstrip.find(".gv_thumbnail").css({width:this.opts.frame_width,height:this.opts.frame_height}),a.gv_filmstrip.find(".gv_frame").css({width:e.outerWidth(a.gv_thumbnail),height:e.outerHeight(a.gv_thumbnail)+(this.opts.show_captions?e.outerHeight(a.gv_caption):0),marginRight:this.opts.frame_gap,marginBottom:this.opts.frame_gap})),"horizontal"===this.filmstripOrientation?(this.filmstripSize=Math.floor((e.outerWidth(a.gv_panelWrap)-e.outerWidth(a.gv_navWrap))/(e.outerWidth(a.gv_frame)+this.opts.frame_gap)),r.fsMax=this.filmstripSize*(e.outerWidth(a.gv_frame)+this.opts.frame_gap),r.fsFull=this.gvImages.length*(e.outerWidth(a.gv_frame)+this.opts.frame_gap),r.filmstrip=Math.min(r.fsMax,r.fsFull),"scroll"!==this.opts.filmstrip_style&&(n.filmstrip=Math.ceil(this.gvImages.length/this.filmstripSize)*(e.outerHeight(a.gv_frame)+this.opts.frame_gap)-this.opts.frame_gap)):(this.filmstripSize=Math.floor((e.outerHeight(a.gv_panelWrap)-e.outerHeight(a.gv_navWrap))/(e.outerHeight(a.gv_frame)+this.opts.frame_gap)),n.fsMax=this.filmstripSize*(e.outerHeight(a.gv_frame)+this.opts.frame_gap),n.fsFull=this.gvImages.length*(e.outerHeight(a.gv_frame)+this.opts.frame_gap),n.filmstrip=Math.min(n.fsMax,n.fsFull),"scroll"!==this.opts.filmstrip_style&&(r.filmstrip=Math.ceil(this.gvImages.length/this.filmstripSize)*(e.outerWidth(a.gv_frame)+this.opts.frame_gap)-this.opts.frame_gap)),a.gv_filmstripWrap.css({width:r.filmstrip,height:n.filmstrip}),a.gv_gallery.css(this.opts.show_filmstrip?"horizontal"===this.filmstripOrientation?{width:e.outerWidth(a.gv_panelWrap),height:e.outerHeight(a.gv_panelWrap)+this.opts.frame_gap+(this.opts.show_filmstrip?Math.max(e.outerHeight(a.gv_filmstripWrap),e.outerHeight(a.gv_navWrap)):e.outerHeight(a.gv_filmstripWrap))}:{width:e.outerWidth(a.gv_panelWrap)+this.opts.frame_gap+(this.opts.show_filmstrip?Math.max(e.outerWidth(a.gv_filmstripWrap),e.outerWidth(a.gv_navWrap)):e.outerWidth(a.gv_filmstripWrap)),height:e.outerHeight(a.gv_panelWrap)}:{width:e.outerWidth(a.gv_panelWrap),height:e.outerHeight(a.gv_panelWrap)}),a.gv_galleryWrap.css({width:e.outerWidth(a.gv_gallery),height:e.outerHeight(a.gv_gallery),padding:this.opts.frame_gap})},setPositions:function(t){t="undefined"!=typeof t?t:!0;var i=this,s=this.dom,a=0,r=0,n=0,o=0,h,l;switch("horizontal"===this.filmstripOrientation?(h=Math.round((e.outerHeight(s.gv_filmstripWrap)-e.outerHeight(s.gv_navWrap))/2),0>h?r=-1*h:a=h):(l=Math.round((e.outerWidth(s.gv_filmstripWrap)-e.outerWidth(s.gv_navWrap))/2),0>l?o=-1*l:n=l),this.opts.show_filmstrip_nav||"horizontal"!==this.filmstripOrientation||(o=Math.floor((e.outerWidth(s.gv_panelWrap)-e.outerWidth(s.gv_filmstripWrap))/2)),s.gv_panelNavNext.css({top:(e.outerHeight(s.gv_panel)-e.outerHeight(s.gv_panelNavNext))/2,right:10}),s.gv_panelNavPrev.css({top:(e.outerHeight(s.gv_panel)-e.outerHeight(s.gv_panelNavPrev))/2,left:10}),this.opts.filmstrip_position){case"top":s.gv_navWrap.css({top:a,right:n}),s.gv_panelWrap.css({bottom:0,left:0}),s.gv_filmstripWrap.css({top:r,left:o});break;case"right":s.gv_navWrap.css({bottom:a,right:n}),s.gv_panelWrap.css({top:0,left:0}),s.gv_filmstripWrap.css({top:r,right:o});break;case"left":s.gv_navWrap.css({bottom:a,left:n}),s.gv_panelWrap.css({top:0,right:0}),s.gv_filmstripWrap.css({top:r,left:o});break;default:s.gv_navWrap.css({bottom:a,right:n}),s.gv_panelWrap.css({top:0,left:0}),s.gv_filmstripWrap.css({bottom:r,left:o})}"top"===this.opts.overlay_position?(s.gv_overlay.css({top:0,left:-99999}),s.gv_showOverlay.css({top:0,left:0})):(s.gv_overlay.css({bottom:0,left:-99999}),s.gv_showOverlay.css({bottom:0,left:0})),t&&(this.opts.show_filmstrip_nav||s.gv_navWrap.remove())},buildFilmstrip:function(i){i="undefined"!=typeof i?i:!0;var s=this,a=this.dom,r=this.gvImages.length*(("horizontal"===this.filmstripOrientation?this.opts.frame_width:this.opts.frame_height)+this.opts.frame_gap);i&&(a.gv_frame.append(a.gv_thumbnail),this.opts.show_captions&&a.gv_frame.append(a.gv_caption),a.gv_thumbnail.css("opacity",this.opts.frame_opacity),a.gv_thumbnail.bind({mouseover:function(){t(this).hasClass("current")||t(this).stop().animate({opacity:1},250)},mouseout:function(){t(this).hasClass("current")||t(this).stop().animate({opacity:s.opts.frame_opacity},250)}}),t.each(this.gvImages,function(t,i){a.gv_frame.clone(!0).prependTo(a.gv_filmstrip)})),a.gv_filmstrip.css({width:e.outerWidth(a.gv_frame),height:e.outerHeight(a.gv_frame)}),this.framesLength=r,"scroll"===this.opts.filmstrip_style?"horizontal"===this.filmstripOrientation?(i&&a.gv_filmstrip.find(".gv_frame").clone(!0).addClass("hideifnoscrolling").appendTo(a.gv_filmstrip).clone(!0).appendTo(a.gv_filmstrip),this.activateScrolling(r>e.innerWidth(a.gv_filmstripWrap))):(i&&a.gv_filmstrip.find(".gv_frame").clone(!0).appendTo(a.gv_filmstrip).clone(!0).appendTo(a.gv_filmstrip),this.activateScrolling(r>e.innerHeight(a.gv_filmstripWrap))):a.gv_filmstrip.css({width:parseInt(a.gv_filmstripWrap.css("width"),10)+this.opts.frame_gap,height:parseInt(a.gv_filmstripWrap.css("height"),10)+this.opts.frame_gap}),i&&(a.gv_frames=a.gv_filmstrip.find(".gv_frame"),t.each(a.gv_frames,function(i,e){t(e).data("frameIndex",i)}),a.gv_thumbnails=a.gv_filmstrip.find("div.gv_thumbnail"))},activateScrolling:function(t){var i=this.dom;if("horizontal"===this.filmstripOrientation?t?(i.gv_filmstrip.css("width",3*this.framesLength),this.scrolling=!0):(i.gv_filmstrip.css("width",this.framesLength),this.scrolling=!1):t?(i.gv_filmstrip.css("height",3*this.framesLength),this.scrolling=!0):(i.gv_filmstrip.css("height",this.framesLength),this.scrolling=!1),t?this.dom.gv_filmstrip.find(".hideifnoscrolling").show():this.dom.gv_filmstrip.find(".hideifnoscrolling").hide(),void 0!=i.gv_thumbnails&&i.gv_thumbnails.stop(!0,!0),this.dom.gv_filmstrip.stop(!0,!0).css({left:0,top:0}),t){var e=this.frameIterator;this.frameIterator=0,void 0!=i.gv_thumbnails&&this.updateFilmstrip(e),this.dom.gv_filmstrip.stop(!0,!0)}},buildGallery:function(t){t="undefined"!=typeof t?t:!0;var i=this,e=this.dom;this.setDimensions(t),this.setPositions(t),this.opts.show_filmstrip&&this.buildFilmstrip(t)},showInfoBar:function(){if(this.opts.show_infobar){var t=this,i=this.dom;i.gv_infobar.stop().stopTime("hideInfoBar_"+t.id).html(this.iterator+1+" of "+this.numImages).show().css("opacity",this.opts.infobar_opacity),i.gv_infobar.oneTime(2e3+this.opts.transition_speed,"hideInfoBar_"+t.id,function(){i.gv_infobar.fadeOut(1e3)})}},initImages:function(){var i=this,s=this.dom;t.each(this.gvImages,function(a,r){var n=t("<img/>");n.css("visibility","hidden").data("index",a),n.bind("load.galleryview",function(){var a=t(this),n=a.data("index"),o=s[a.data("parent").type].eq(a.data("parent").index),h=o.hasClass("gv_panel")?"panel":"frame",l=this.width,p=this.height;a.bind("resizegalleryimage",function(){var s=t(this),a=e.innerWidth(o)/l,n=e.innerHeight(o)/p,g=0,v=0;r.scale[h]="fit"===i.opts[h+"_scale"]?Math.min(a,n):Math.max(a,n),!i.opts.panel_can_upscale_image&&r.scale[h]>1&&(r.scale[h]=1),v=Math.round((e.innerWidth(o)-l*r.scale[h])/2),g=Math.round((e.innerHeight(o)-p*r.scale[h])/2),s.css({width:l*r.scale[h],height:p*r.scale[h],top:g,left:v})}),a.trigger("resizegalleryimage"),a.hide().css("visibility","visible"),a.detach().appendTo(o),"frame"===h?(a.fadeIn(),o.parent().removeClass("gv_frame-loading"),o.parent().find(".gv_caption").html(r.attrs.title)):n===i.opts.start_frame-1?(o.prependTo(s.gv_panelWrap),o.removeClass("gv_panel-loading"),a.fadeIn(),i.showInfoBar()):(o.removeClass("gv_panel-loading"),a.show())}),i.opts.show_panels&&n.clone(!0).data("parent",{type:"gv_panels",index:a}).appendTo(s.gv_imageStore).attr("src",r.src.panel),i.opts.show_filmstrip&&(n.clone(!0).data("parent",{type:"gv_thumbnails",index:a}).appendTo(s.gv_imageStore).attr("src",r.src.frame),s.gv_frames.length>s.gv_panels.length&&(n.clone(!0).data("parent",{type:"gv_thumbnails",index:a+i.numImages}).appendTo(s.gv_imageStore).attr("src",r.src.frame),n.clone(!0).data("parent",{type:"gv_thumbnails",index:a+i.numImages+i.numImages}).appendTo(s.gv_imageStore).attr("src",r.src.frame)))})},showNext:function(){this.navAction="next",this.showItem(this.frameIterator+1)},showPrev:function(){this.navAction="prev",this.showItem(this.frameIterator-1)},showItem:function(i){if(!isNaN(i)){this.opts.show_filmstrip||(i%=this.numImages);var s=this,a=this.dom,r=i,n,o,h,l,p=!1;if(i>=this.numImages?i%=this.numImages:0>i&&(i=this.numImages-1,r=void 0!=a.gv_frames?a.gv_frames.length-1:a.gv_panels.length-1),i!=this.iterator){switch(l=a.gv_panels.eq(i),p=this.playing,p&&this.stopSlideshow(!1),this.unbindActions(),a.gv_gallery.oneTime(this.opts.transition_speed,"bindActions_"+s.id,function(){p&&s.startSlideshow(!1),s.bindActions()}),this.opts.panel_animation){case"crossfade":a.gv_panels.eq(this.iterator).fadeOut(this.opts.transition_speed,function(){t(this).detach()}),l.hide().prependTo(a.gv_panelWrap).fadeIn(this.opts.transition_speed);break;case"fade":a.gv_panels.eq(this.iterator).detach(),l.hide().prependTo(a.gv_panelWrap).fadeIn(this.opts.transition_speed);break;case"slide":"next"===this.navAction||"frame"===this.navAction&&r>this.iterator?(n=e.outerWidth(a.gv_panel),o=-1*e.outerWidth(a.gv_panel)):(n=-1*e.outerWidth(a.gv_panel),o=e.outerWidth(a.gv_panel)),l.css({left:n}).appendTo(a.gv_panelWrap).animate({left:0},{duration:this.opts.transition_speed,easing:this.opts.easing}),a.gv_panels.eq(this.iterator).animate({left:o},{duration:this.opts.transition_speed,easing:this.opts.easing,complete:function(){t(this).detach()}});break;default:a.gv_panels.eq(this.iterator).detach(),l.prependTo(a.gv_panelWrap)}t("img",this.gv_galleryWrap).trigger("resizegalleryimage"),this.updateOverlay(i),this.iterator=i,this.updateFilmstrip(r),this.showInfoBar(),document.getSelection&&document.getSelection().removeAllRanges()}}},updateOverlay:function(t){var i=this,e=this.dom;this.overlayVisible?this.hideOverlay(null,function(){e.gv_overlay.html("<h4>"+i.gvImages[t].attrs.title+"</h4><p>"+i.gvImages[t].attrs.description+"</p>"),i.showOverlay()}):(e.gv_overlay.html("<h4>"+i.gvImages[t].attrs.title+"</h4><p>"+i.gvImages[t].attrs.description+"</p>"),e.gv_overlay.css(this.opts.overlay_position,-1*e.gv_overlay.outerHeight()))},hideOverlay:function(t,i){var e=this,s=this.dom,a={},r={},n=t||e.opts.transition_speed/2;i=i||function(){},a[this.opts.overlay_position]=-1*s.gv_overlay.outerHeight(),r[this.opts.overlay_position]=0,s.gv_overlay.animate(a,{duration:n,easing:"swing",complete:i}),s.gv_showOverlay.animate(r,{duration:n,easing:"swing"}),this.overlayVisible=!1},showOverlay:function(t){var i=this,e=this.dom,s={},a={},r={},n=t||i.opts.transition_speed/2;s[this.opts.overlay_position]=-1*e.gv_overlay.outerHeight(),s.left=0,a[this.opts.overlay_position]=0,r[this.opts.overlay_position]=e.gv_overlay.outerHeight(),e.gv_overlay.css(s),e.gv_overlay.animate(a,{duration:n,easing:"swing"}),e.gv_showOverlay.animate(r,{duration:n,easing:"swing"}),this.overlayVisible=!0},updateFilmstrip:function(t){if(!this.opts.show_filmstrip)return void(this.frameIterator=t);var i=this,s=this.dom,a=s.gv_thumbnails.eq(this.iterator),r,n;this.scrolling&&(a=a.add(s.gv_thumbnails.eq(this.iterator+this.numImages)).add(s.gv_thumbnails.eq(this.iterator+2*this.numImages))),s.gv_thumbnails.removeClass("current").animate({opacity:this.opts.frame_opacity}),a.stop().addClass("current").animate({opacity:1},500),this.scrolling?"horizontal"===this.filmstripOrientation?(n=(e.outerWidth(s.gv_frame)+this.opts.frame_gap)*(this.frameIterator-t),n=n>0?"+="+Math.abs(n):"-="+Math.abs(n),s.gv_filmstrip.animate({left:n},{duration:this.opts.transition_speed,easing:this.opts.easing,complete:function(){t<i.numImages?s.gv_filmstrip.css("left",e.getInt(s.gv_filmstrip.css("left"))-i.numImages*(e.outerWidth(s.gv_frame)+i.opts.frame_gap)):t>=2*i.numImages&&s.gv_filmstrip.css("left",e.getInt(s.gv_filmstrip.css("left"))+i.numImages*(e.outerWidth(s.gv_frame)+i.opts.frame_gap)),i.frameIterator=t%i.numImages+i.numImages}})):(n=(e.outerHeight(s.gv_frame)+this.opts.frame_gap)*(this.frameIterator-t),n=n>0?"+="+Math.abs(n):"-="+Math.abs(n),s.gv_filmstrip.animate({top:n},{duration:this.opts.transition_speed,easing:this.opts.easing,complete:function(){0===t?(s.gv_filmstrip.css("top",e.getInt(s.gv_filmstrip.css("top"))-i.numImages*(e.outerHeight(s.gv_frame)+i.opts.frame_gap)),i.frameIterator=i.numImages):t>3*i.numImages-2*i.filmstripSize?(s.gv_filmstrip.css("top",e.getInt(s.gv_filmstrip.css("top"))+i.numImages*(e.outerHeight(s.gv_frame)+i.opts.frame_gap)),i.frameIterator=t-i.numImages):i.frameIterator=t}})):this.frameIterator=t},startSlideshow:function(t){var i=this,e=this.dom;i.opts.enable_slideshow&&(t&&e.gv_navPlay.removeClass("gv_navPlay").addClass("gv_navPause"),this.playing=!0,e.gv_galleryWrap.everyTime(this.opts.transition_interval,"slideshow_"+this.id,function(){i.showNext()}))},stopSlideshow:function(t){var i=this,e=this.dom;t&&e.gv_navPlay.removeClass("gv_navPause").addClass("gv_navPlay"),this.playing=!1,e.gv_galleryWrap.stopTime("slideshow_"+this.id)},enablePanning:function(){var i=this,s=this.dom;i.opts.enable_slideshow&&(s.gv_panel.css("cursor","url(http://www.google.com/intl/en_ALL/mapfiles/openhand.cur), n-resize"),"drag"===this.opts.pan_style&&s.gv_panelWrap.delegate(".gv_panel img","mousedown.galleryview",function(e){i.isMouseDown=!0,t(this).css("cursor","url(http://www.google.com/intl/en_ALL/mapfiles/closedhand.cur), n-resize")}).delegate(".gv_panel img","mouseup.galleryview",function(e){i.isMouseDown=!1,t(this).css("cursor","url(http://www.google.com/intl/en_ALL/mapfiles/openhand.cur), n-resize")}).delegate(".gv_panel img","mousemove.galleryview",function(a){var r,n,o=t(this),h,l;i.isMouseDown?(r=a.pageY-i.mouse.y,n=a.pageX-i.mouse.x,h=e.getInt(o.css("top"))+r,l=e.getInt(o.css("left"))+n,o.css("cursor","url(http://www.google.com/intl/en_ALL/mapfiles/closedhand.cur), n-resize"),h>0&&(h=0),l>0&&(l=0),h<-1*(e.outerHeight(o)-e.innerHeight(s.gv_panel))&&(h=-1*(e.outerHeight(o)-e.innerHeight(s.gv_panel))),l<-1*(e.outerWidth(o)-e.innerWidth(s.gv_panel))&&(l=-1*(e.outerWidth(o)-e.innerWidth(s.gv_panel))),o.css("top",h),o.css("left",l)):o.css("cursor","url(http://www.google.com/intl/en_ALL/mapfiles/openhand.cur), n-resize")}))},bindActions:function(){var i=this,e=this.dom;e.gv_showOverlay.bind("click.galleryview",function(){i.overlayVisible?i.hideOverlay(250):i.showOverlay(250)}),e.gv_navWrap.delegate("div","click.galleryview",function(){var e=t(this);return e.hasClass("gv_navNext")?i.showNext():e.hasClass("gv_navPrev")?i.showPrev():e.hasClass("gv_navPlay")?i.startSlideshow(!0):e.hasClass("gv_navPause")&&i.stopSlideshow(!0),!1}),e.gv_panelNavNext.bind("click.galleryview",function(){return i.showNext(),!1}),e.gv_panelNavPrev.bind("click.galleryview",function(){return i.showPrev(),!1}),e.gv_filmstripWrap.delegate(".gv_frame","click.galleryview",function(){var e=t(this),s=e.data("frameIndex");return this.navAction="frame",i.showItem(s),!1}),e.gv_panelWrap.bind("mouseover.galleryview",function(){i.showPanelNav()}).bind("mouseout.galleryview",function(){i.hidePanelNav()})},unbindActions:function(){var t=this,i=this.dom;i.gv_showOverlay.unbind("click.galleryview"),i.gv_panelNavNext.unbind("click.galleryview"),i.gv_panelNavPrev.unbind("click.galleryview"),i.gv_navWrap.undelegate("div","click.galleryview"),i.gv_filmstripWrap.undelegate(".gv_frame","click.galleryview")},showPanelNav:function(){var t=this,i=this.dom;i.gv_panelNavNext.show(),i.gv_panelNavPrev.show()},hidePanelNav:function(){var t=this,i=this.dom;i.gv_panelNavNext.hide(),i.gv_panelNavPrev.hide()},init:function(i,e){var s=this,a=this.dom={};this.opts=t.extend({},t.fn.galleryView.defaults,i),this.el=e,this.$el=t(e),this.id=e.id,this.iterator=this.frameIterator=this.opts.start_frame-1,this.overlayVisible=this.opts.show_overlays,this.playing=!1,this.scrolling=!1,this.isMouseDown=!1,this.mouse={x:0,y:0},this.filmstripOrientation="top"===this.opts.filmstrip_position||"bottom"===this.opts.filmstrip_position?"horizontal":"vertical",t(document).bind("mousemove.galleryview",function(t){s.mouse={x:t.pageX,y:t.pageY}}),t.each(this.elems,function(t,i){var i=i.split(".");""===i[0]&&(i[0]="div"),a[i[1]]=s.createElem({"class":i[1]},i[0])}),a.gv_imageStore.appendTo(t("body")),a.gv_galleryWrap.delegate("img","mousedown.galleryview",function(t){t.preventDefault&&t.preventDefault()}),a.gv_panel.addClass("gv_panel-loading"),a.gv_frame.addClass("gv_frame-loading"),a.gv_galleryWrap.hide().append(a.gv_gallery),this.opts.show_panels&&(a.gv_gallery.append(a.gv_panelWrap),this.opts.show_panel_nav&&a.gv_panelWrap.append(a.gv_panelNavNext,a.gv_panelNavPrev),this.opts.show_infobar&&a.gv_panelWrap.append(a.gv_infobar)),this.opts.show_filmstrip&&(a.gv_gallery.append(a.gv_filmstripWrap.append(a.gv_filmstrip)),this.opts.show_filmstrip_nav&&a.gv_gallery.append(a.gv_navWrap.append(a.gv_navPrev,this.opts.enable_slideshow?a.gv_navPlay:t("<span></span>"),a.gv_navNext))),this.opts.enable_overlays&&a.gv_panelWrap.append(a.gv_overlay,a.gv_showOverlay),this.opts.show_captions&&a.gv_frame.append(a.gv_caption).appendTo(a.gv_gallery),this.$el.replaceWith(a.gv_galleryWrap),this.opts.pan_images&&this.enablePanning(),this.storeImages(),this.buildGallery(),this.initImages(),this.bindActions(),a.gv_frame.remove(),a.gv_galleryWrap.show(),this.opts.autoplay&&this.startSlideshow(!0),this.updateOverlay(this.iterator),this.updateFilmstrip(this.frameIterator)},resizeGallery:function(i,e,s,a){void 0!=i&&(this.opts.panel_width=i),void 0!=e&&(this.opts.panel_height=e),void 0!=s&&(this.opts.frame_width=s),void 0!=a&&(this.opts.frame_height=a),this.buildGallery(!1),t("img",this.gv_galleryWrap).trigger("resizegalleryimage"),t("img",this.dom.gv_panels).trigger("resizegalleryimage")}};t.fn.galleryView=function(t){return this.length?this.each(function(){var i=Object.create(s);i.init(t,this),this.galleryViewForObject=i}):void 0},t.fn.resizeGalleryView=function(t,i,e,s){return this.length?this.each(function(){this.galleryViewForObject&&this.galleryViewForObject.resizeGallery(t,i,e,s)}):void 0},t.fn.galleryView.defaults={transition_speed:1e3,transition_interval:5e3,easing:"swing",show_panels:!0,show_panel_nav:!0,enable_overlays:!1,show_overlays:!1,panel_width:800,panel_height:400,panel_animation:"fade",panel_scale:"crop",overlay_position:"bottom",pan_images:!1,pan_style:"drag",pan_smoothness:15,start_frame:1,show_filmstrip:!0,show_filmstrip_nav:!0,enable_slideshow:!0,autoplay:!1,show_captions:!1,filmstrip_size:3,filmstrip_style:"scroll",filmstrip_position:"bottom",frame_width:80,frame_height:40,frame_opacity:.4,frame_scale:"crop",frame_gap:5,show_infobar:!0,infobar_opacity:1,panel_can_upscale_image:!0}}(jQuery);